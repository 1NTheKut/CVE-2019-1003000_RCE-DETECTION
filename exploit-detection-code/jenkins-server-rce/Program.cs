using System;
using MatthiWare.CommandLine;
using jenkins_server_rce.commandlineargs;

namespace jenkins_server_rce
{
    class Program
    {
        static void Main(string[] args)
        {
            var options = new CommandLineParserOptions
            {
                AppName = "Detecting CVE-2019-1003000 RCE Bug"
            };
            var parser = new CommandLineParser<cli_args>(options);
            var result = parser.Parse(args);
            if (result.HasErrors)
            {
                Console.Error.WriteLine("Errors in command line arguments");
                return;
            }

            var programOptions = result.Result;
            Console.WriteLine($"Username {programOptions.Username}\n Password: {programOptions.Password}\n URL: {programOptions.Url}");
            Console.WriteLine($"Verbose: {programOptions.Verbose}");
            //if (args.Length == 0)
            //{
            //    Console.WriteLine("Please enter appropriate command line arguments. Type --help for more information.");
            //}
        }
    }

    
}
